<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-version" content="1.2.4" />
    <meta name="foundation-version" content="5.4.7" />
    <meta name="jquery-version" content="2.1.1" />
    <meta name="modernizr-version" content="2.8.3" />

	<!-- Foundation Theme for RapidWeaver by Joe Workman -->

	
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="UI Design" content="UI designer based in Brighton UK" />
		<meta name="UX design" content="UX designer based in Brighton UK" />
		<meta name="Brighton" content="(null)" />
		<meta name="Jonathan Hammond" content="Product designer based in Brighton UK" />
		<meta name="Leap Motion" content="(null)" />
		<meta name="Thalmic Labs Myo" content="(null)" />
		<meta name="Kinect" content="(null)" />
		<meta name="Music" content="(null)" />
		<meta name="DJ" content="(null)" />
		<meta name="generator" content="RapidWeaver" />
		
	

	<title>Lab | Jonathan Hammond</title>

	<link rel="stylesheet" type="text/css" media="all" href="../rw_common/themes/foundation/consolidated.css" />
		
	<script src="../rw_common/themes/foundation/modernizr.js"></script>

	<!--[if lt IE 9]>
	  <script src="../rw_common/themes/foundation/ie8.js"></script>
	<![endif]-->

			<link rel='stylesheet' type='text/css' media='all' href='../rw_common/plugins/stacks/stacks.css' />
		<!--[if lte IE 7]>
			<link rel='stylesheet' type='text/css' media='all' href='../rw_common/plugins/stacks/stacks_ie.css' />
		<![endif]-->
		<link rel='stylesheet' type='text/css' media='all' href='files/stacks_page_page20.css' />
		<script type='text/javascript' charset='utf-8' src='https://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js'></script>
		<script type='text/javascript' charset='utf-8' src='files/stacks_page_page20.js'></script>
<meta class="stack version" id="com.joeworkman.stacks.foundation.topbar" name="Top Bar" content="1.2.12">
<meta class="stack version" id="com.joeworkman.stacks.tumblr" name="Tumblr" content="3.5.5">
<meta class="stack version" id="com.joeworkman.stacks.foundation.styles" name="Site Styles" content="1.2.12">


<meta class="stack version" id="com.joeworkman.stacks.foundation.header" name="Header" content="1.2.12">

	
<!-- Start Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56377732-1', 'auto');
  ga('send', 'pageview');

</script><!-- End Google Analytics -->
</head>

<body class="antialiased">



<!-- Stacks v1198 --><div id='stacks_out_46_page20' class='stacks_top'><div id='stacks_in_46_page20' class=''><div id='stacks_out_541_page20' class='stacks_out'><div id='stacks_in_541_page20' class='stacks_in com_joeworkman_stacks_foundation_topbar_stack'>

<!-- Foundation Top Bar Menu stake-nomin -->


<div class="top-bar-wrapper full-width font-family-text   contain-to-grid matchPadding solid     submenuIndicator menu-align-centered zone-align-left">
    <nav class="top-bar" data-topbar data-options="is_hover:true;custom_back_text:true;back_text:Back;mobile_show_parent_link:true;scrolltop:false;">
        <ul class="title-area title-area-site-setup">
            <li class="name ">
                
                    <a href="http://www.justaddmusicmedia.com/">
                        
                        
                    </a>
                

                
            </li>
            <li class="toggle-topbar menu-icon">
                <a href="#">
                    <span>Menu</span>
                </a>
            </li>
        </ul>

        <section class="top-bar-section menu-rw">







    <ul class="menu dropdown"><li class="has-dropdown"><a href="../" rel="">Home</a></li><li class="has-dropdown"><a href="../page3/" rel="">Temp</a></li><li class="has-dropdown"><a href="../about/" rel="">About</a></li><li class="has-dropdown"><a href="../work/" rel="">Work</a></li><li class="has-dropdown"><a href="../contact/" rel="">Contact</a></li></ul>










        </section>
    </nav>
</div>



</div></div><div id='stacks_out_1239_page20' class='stacks_out'><div id='stacks_in_1239_page20' class='stacks_in com_joeworkman_stacks_foundation_styles_stack'>     <link href='../rw_common/plugins/stacks/fontawesome/font-awesome.css' rel='stylesheet' type='text/css'> 



 <!--[if lt IE 9]><meta http-equiv="refresh" content="0; url="><![endif]-->

</div></div><div id='stacks_out_110_page20' class='stacks_out'><div id='stacks_in_110_page20' class='stacks_in com_joeworkman_stacks_foundation_header_stack'>

<h1 class="text-center   ">Lab work</h1>

</div></div><div id='stacks_out_3198_page20' class='stacks_out'><div id='stacks_in_3198_page20' class='stacks_in com_joeworkman_stacks_foundation_header_stack'>

<h4 class="text-center subheader  "><span id='stacks_in_3199_page20'>Hacking, experiments, publishings</span></h4>

</div></div><div id='stacks_out_8098_page20' class='stacks_out'><div id='stacks_in_8098_page20' class='stacks_in com_joeworkman_stacks_tumblr_stack'>



<div class="tumblr-post-wrapper" id="tumblr-posts-stacks_in_8098_page20">
<?php
$local_lang = 'en_UK';
setlocale(LC_ALL,$local_lang);
require_once('files/tumblr-lib/helper.tumblr.php');

// Custom Text for User Localization
$text_comment = 'Comments';
$text_posted  = 'Posted at';
$text_newer   = 'Newer Posts';
$text_older   = 'Older Posts';
$text_from    = 'From';
$text_plays   = 'Plays';
$text_nodata  = 'No blog posts were found matching your criteria... Please try again.';
$text_nocomm  = 'There was an error communicating with Tumblr. Please try again.';
$text_unknown = 'An unknown error has occurred. Please try again.';
$text_reblog  = 'Reblogged from';

$debug_key 		= 'pawv3ud6o5quey7hab5tax6es';
$posts_per_page = 20;
$cache_dir 		= 'files/tumblr-tmp';
$social_buttons = false;
$pretty_url 	= true;
$cache_min		= 10;
$comment_type	= 'facebook';
$date_position	= 'inline_date';
$tumblr_error 	= false;
$assetpath		= 'files';
$post_title		= null;
$post_url		= null;
$post_id 		= isset($_GET['id']) 	  ? $_GET['id'] 			: null;
$tag_name 		= isset($_GET['tag'])     ? $_GET['tag']     		: null;
$search_string 	= isset($_GET['search'])  ? $_GET['search'] 		: null;
$debug_flag		= isset($_GET['debug'])   ? $_GET['debug']			: null;
$post_type 		= isset($_GET['type'])    ? $_GET['type'] 			: null;
$current_page 	= isset($_GET['page'])    ? $_GET['page'] 			: 1;
$clear_cache 	= isset($_GET['refresh']) ? $_GET['refresh'] 		: 0;
$rss_feed 	    = isset($_GET['rss'])     ? $_GET['rss'] 		    : 0;
$comment_username = 'justaddmusicmedia' != '' ? 'justaddmusicmedia' : null;
// Strip out http:// if supplied
preg_match('@^(http://)?(.+?)?/*$@i', 'jonathanhammond.tumblr.com', $username_matches_one);
// Verify that its a domain not just a username
preg_match('@^\S+\.\S+\.\w+$@i', $username_matches_one[2], $username_matches_two);
// If a proper domain was defined then use it, else append tumblr domain
$tumblr_domain = $username_matches_two ? $username_matches_one[2] : $username_matches_one[2] .'.tumblr.com';
$debug = ($debug_flag === $debug_key) ? true : false;

if ($social_buttons) {
	echo '<script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>';
	echo '<script src="http://connect.facebook.net/'. $local_lang .'/all.js#xfbml=1"></script>';
	echo '<script type="text/javascript" src="https://apis.google.com/js/plusone.js">{"lang": "'. substr($local_lang, 0, 2) .'"}</script>';
}
if ($debug) {
	echo '<div class="tumblr_debug">';
		echo '<h2>PHP Info</h2>'. phpinfo();
	echo '</div>';
}

$start = ($current_page - 1) * $posts_per_page;
if ($clear_cache) {
	// Clear Cache 
	$clear_cache === 'all' ? clear_all_cache($cache_dir) : clear_cache_file($tumblr_domain, $post_id, $tag_name, $post_type, $posts_per_page, $start, $cache_dir);
}
// Go get our blog posts!
$tumblrJson = get_tumblr_posts($tumblr_domain, $post_id, $tag_name, $post_type, $search_string, $posts_per_page, $start, $cache_dir, 60*$cache_min, $debug);

// Get all the URLs that we might need
$total_posts = isset($tumblrJson['total_posts']) ? $tumblrJson['total_posts'] : null;
$url_string = build_url_string($pretty_url,$post_id,$tag_name,$search_string,$post_type,$current_page,$clear_cache,$total_posts,$posts_per_page);

if (is_int($tumblrJson)) {
	// Switch statement for error mappings. The get_tumblr_posts function should return an integer for error codes. 
	// HTTP Error Codes - http://www.w3.org/Protocols/HTTP/HTRESP.html
	$tumblr_error = true;
	echo '<p class="tumblr_error">';
	
	switch ($tumblrJson) {
		case 100:
			echo $text_nocomm;
			break;
		case 404:
			echo $text_nodata;
			break;
		case 403:
			echo $text_nodata;
			break;
		default:
			echo $text_unknown;
			break;
	}
	echo '</p>';
	// echo hidden error into the markup for debugging
	log_message("Tumblr Error Code: $tumblrJson");
}
else {
	if ($debug) {
		echo '<div class="tumblr_debug">';
			echo '<h2>Start Tumblr Debug Dump</h2>';
			echo '<p>Configured Tumblr Domain: jonathanhammond.tumblr.com</p>';
			echo '<pre>';
				print_r($tumblrJson);
			echo '</pre>';
		echo '</div>';
	}
	echo '<div class="tumblr-refresh">'.
			'<a href="'. $url_string['refresh_url'] .'" title="Delete Current Page Cache"><img src="'. $assetpath .'/tumblr-images/refresh.png"/></a>'.
			'<a href="'. $url_string['refresh_all_url'] .'" title="Delete ALL Page Cache"><img src="'. $assetpath .'/tumblr-images/refresh-all.png"/></a>'.
		 '</div>';
	echo '<link rel="alternate" type="application/rss+xml" href="http://'. $tumblr_domain .'/rss" title="'. $tumblrJson['blog']['title'] .'">';

    if ($pretty_url) {
    	echo '<link rel="alternate" type="application/rss+xml" href="http://'. $tumblr_domain .'/rss" title="'. $tumblrJson['blog']['title'] .'">';
    }
    else {
    }	
	// TODO: Verify if Tumblr adds this timezone back into the API else will need to be a new setting
	$timezone = isset($tumblrJson['blog']['timezone']) ? $tumblrJson['blog']['timezone'] : 'America/Los_Angeles';
	date_default_timezone_set($timezone);
	
	if(is_array($tumblrJson['posts'])) {
		foreach($tumblrJson['posts'] as $post) {
			
			if(!array_key_exists('id',$post)) {
			    // Strip the ID from the URL
			    preg_match(':\S+/post/(\d+)(/\S)*:', $post['post_url'], $post_id_matches);
			    $post['id'] = $post_id_matches[1];
			}
			
			$post['local-page-url'] 	= $url_string['post_url'] . $post['id'];
			$post['external-page-url'] 	= $url_string['ext_post_url'] . $post['id'];
			$post['tag-url'] 			= $url_string['tag_url'];
			$post['comment-username'] 	= $comment_username;
			$post['comment-type'] 		= $comment_type;
			$post['social-buttons'] 	= $social_buttons;
			$post['text-comment'] 		= $text_comment;
			$post['blog-title'] 		= $tumblrJson['blog']['title'];
			$post['text-posted'] 		= $text_posted;
			$post['lang'] 				= substr($local_lang, 0, 2);
	
			// Set the global variable to Post Title. Since this is only used when one post is defined, we can do it here. 
			$post_title = get_title($post);
			$post_url = $post['external-page-url'];
	
			echo '<div class="post '. $date_position .'">';
			echo get_post_date($post,$date_position);
	
			switch ($post['type']) {
				case 'text':
						   echo get_text_post($post);
						   break;
				case 'photo':
							if (count($post['photos']) > 1) {
								if (true === true) {
									echo get_photoset_gallery_post($post);
								}
								else {
									echo get_photoset_show_post($post);
								}
							}
							else {
								echo get_single_photo_post($post);
							}
						   break;
				case 'link':
						   echo get_link_post($post);
						   break;
				case 'video':
						   echo get_video_post($post);
						   break;
				case 'quote':
						   echo get_quote_post($post);
						   break;
				case 'audio':
						   $post['plays-text'] = $text_plays;
						   $post['assetpath']  = $assetpath.'/tumblr-images';
						   echo get_audio_post($post);
						   break;
				case 'chat':
						   echo get_chat_post($post);
						   break;
				case 'answer':
						   $post['asking-from'] = $text_from;
						   echo get_answer_post($post);
						   break;
				default:
						   echo get_text_post($post);
						   break;
			}
			echo get_reblog_info($post, $text_reblog);
			echo get_post_footer($post);
			echo '</div>';
		}
		if ($post_id) {
			// Would prefer to do this with PHP, if I can find a way. This will have to do for now. 
			echo '<script type="text/javascript">document.title = unescape("'.$post_title.'");</script>';
		}
	
		echo '<div class="post_nav">';
			if (isset($url_string['old_post_url'])) { echo '<p class="older_posts"><a href="'. $url_string['old_post_url'] .'">'. $text_older .'</a></p>'; }
			if (isset($url_string['new_post_url'])) { echo '<p class="newer_posts"><a href="'. $url_string['new_post_url'] .'">'. $text_newer .'</a></p>'; }
		echo '</div>';
		echo '<div id="fullprint" class="loading"><a class="photo-link prev_photo" href="#"></a><a class="photo-link next_photo" href="#"></a></div>';
	}
	else {
		echo '<p class="tumblr_error">'. $text_nodata .'</p>';
	}
}
?>
</div>

<?php
if (!$tumblr_error) {
// If there weren't any errors place the comments 
	if ($post_id != null and $comment_username != null) {
	
		if ($comment_type == 'facebook') {
			echo '<meta property="fb:admins" content="'. $comment_username .'"/>';
			echo '<div id="fb-root"></div>';
			echo '<div id="facebook_thread"><fb:comments href="'. $post_url .'" num_posts="50" colorscheme="light"></fb:comments></div>';
		}
		else {
			echo	'<div id="disqus_thread"></div>';
			echo 	'<script type="text/javascript">'.
						'var disqus_shortname = "'. $comment_username .'";'.
						'var disqus_identifier = "'. $post_id .'";'.
						'var disqus_title = "'. $post_title .'";'.
						'var disqus_url = "'. $post_url .'";'.
						'(function() {'.
							'var dsq = document.createElement("script"); dsq.type = "text/javascript"; dsq.async = true;'.
							'dsq.src = "http://" + disqus_shortname + ".disqus.com/embed.js";'.
							'(document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);'.
						'})();'.
						'(function () {'.
							'var s = document.createElement("script"); s.async = true;'.
							's.type = "text/javascript";'.
							's.src = "http://" + disqus_identifier + ".disqus.com/count.js";'.
							'(document.getElementsByTagName("HEAD")[0] || document.getElementsByTagName("BODY")[0]).appendChild(s);'.
						'}());'.
					'</script>';
		}
	}
	elseif ($comment_username != null) {
	
		if ($comment_type == 'facebook' and !$social_buttons) {
			echo '<script src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script>';
		}
		else {
			echo 	'<script type="text/javascript">'.
						'var disqus_shortname = "'. $comment_username .'";'.
						'(function () {'.
							'var s = document.createElement("script"); s.async = true;'.
							's.type = "text/javascript";'.
							's.src = "http://" + disqus_shortname + ".disqus.com/count.js";'.
							'(document.getElementsByTagName("HEAD")[0] || document.getElementsByTagName("BODY")[0]).appendChild(s);'.
						'}());'.
					'</script>';	
		}
	}
}
?>


<div id="custom_images_stacks_in_8098_page20">
	<h2>Custom Post Images</h2>
	<div id="link_stacks_in_8098_page20">
		<div class='centered_image' ></div>
		
	</div>
	<div id="chat_stacks_in_8098_page20">
		<div class='centered_image' ></div>
		
	</div>
	<div id="text_stacks_in_8098_page20">
		<div class='centered_image' ></div>
		
	</div>
	<div id="answer_stacks_in_8098_page20">
		<div class='centered_image' ></div>
		
	</div>
	<div id="photo_stacks_in_8098_page20">
		<div class='centered_image' ></div>
		
	</div>
	<div id="quote_stacks_in_8098_page20">
		<div class='centered_image' ></div>
		
	</div>
	<div id="audio_stacks_in_8098_page20">
		<div class='centered_image' ></div>
		
	</div>
	<div id="video_stacks_in_8098_page20">
		<div class='centered_image' ></div>
		
	</div>
</div>




</div></div></div></div>



<!-- End of Stacks Content -->




<script src="../rw_common/themes/foundation/foundation.js"></script>


<!--[if lt IE 9]>
  <script src="../rw_common/themes/foundation/ie8rem.js"></script>
<![endif]-->

<!-- Start LiveStats -->
<script>
  !function(g,s,q,r,d){r=g[r]=g[r]||function(){(r.q=r.q||[]).push(
  arguments)};d=s.createElement(q);q=s.getElementsByTagName(q)[0];
  d.src='//d1l6p2sc9645hc.cloudfront.net/tracker.js';q.parentNode.
  insertBefore(d,q)}(window,document,'script','_gs');

  _gs('GSN-294396-S');
</script><!-- End LiveStats -->
</body>
</html>
